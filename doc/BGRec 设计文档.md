BGRec
===
需求分析与设计分析  

## 需求分析
### 目的
从一段固定视角的视频中分析得出背景图片。  
### 用户输入
视频源（视频文件或摄像头输入）。  
### 程序输出
一张图片，主要是背景。  
## 项目结构
    bgrec  
    └── src  
        ├── bgrec  
        │   ├── __init__.py  
        │   ├── canny.py  
        │   ├── grabcut.py  
        │   └── shrink.py  
        ├── listcam.py  
        └── main.py  
### bgrec  
模块包含用以处理图像的两个个主要步骤。  
#### canny
用于获得“塌缩”的边缘。  
1. 对原图像进行高斯模糊、灰度转化；  
2. 执行边缘检测；  
3. 利用腐蚀和膨胀除去一部分噪点。  
#### grabcut
用于抠掉前景。  
1. 将缩小后的预蒙版扩展到原来的大小；
2. 使用grabcut获得前景蒙版。  
#### shrink
用于强缩图像。  
### main
将边缘点阵图每隔一段时间(默认3s)进行叠加，将叠加后的边缘图缩小后两两异或，即可保留移动的部分。  
将异或后的点阵图作为蒙版进行抠图，最终能得到残缺的背景。  
将每次所得到的背景加权叠加，即可获得完整的背景图片。  